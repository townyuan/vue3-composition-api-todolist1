import{r as c,c as U,w as K,o as a,a as d,b as e,d as r,v as y,e as p,F as m,f as L,n as f,g as _,t as k,h as $}from"./index-1KfPpOjE.js";const B={class:"container",style:{display:"none"}},I={key:0},M=["onKeyup"],S={key:1},E=["onUpdate:modelValue"],N=["onDblclick"],F=["onClick"],J=["disabled"],O=["disabled"],z=["disabled"],A=e("hr",null,null,-1),P={class:"bg-half"},X={class:"conatiner todoListPage vhContainer"},j={class:"todoList_Content"},q={class:"inputBox"},G=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",fill:"currentColor",class:"bi bi-plus-lg",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"})],-1),H=[G],Q={class:"todoList_list"},R={class:"todoList_tab"},W={class:"todoList_items"},Y={class:"todoList_item"},Z={key:0,class:"todoList_label"},ee=["onKeyup"],te={key:1,class:"todoList_label"},le=["onUpdate:modelValue"],oe=["onDblclick"],ne=["onClick"],se=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-x",viewBox:"0 0 16 16"},[e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"})],-1),ie=[se],ae={class:"todoList_statistics"},ve={__name:"TodoView",setup(de){const T=localStorage.getItem("yuan-data")||"[]",V=c(JSON.parse(T)),u=c(""),s=c(V),h=()=>{u.value&&s.value.push({id:Date.now(),text:u.value,done:!1}),u.value=""},x=i=>{s.value=s.value.filter(l=>l.id!==i)},b=c(null),v=c(""),g=i=>{b.value=i.id,v.value=i.text},w=i=>{const l=s.value.findIndex(t=>t.id===i.id);s.value[l].text=v.value,b.value="",v.value=""},o=c("all"),C=U(i=>o.value==="active"?s.value.filter(l=>!l.done):o.value==="completed"?s.value.filter(l=>l.done):s.value),D=()=>{s.value=s.value.filter(i=>!i.done)};return K(()=>{localStorage.setItem("yuan-data",JSON.stringify(s.value))}),(i,l)=>(a(),d(m,null,[e("div",B,[r(e("input",{type:"text","onUpdate:modelValue":l[0]||(l[0]=t=>u.value=t),onKeyup:p(h,["enter"])},null,544),[[y,u.value]]),e("button",{type:"button",onClick:h},"新增資資料"),e("ul",null,[(a(!0),d(m,null,L(C.value,t=>(a(),d("li",{key:t.id},[b.value===t.id?(a(),d("div",I,[r(e("input",{type:"text","onUpdate:modelValue":l[1]||(l[1]=n=>v.value=n),onKeyup:p(n=>w(t),["enter"])},null,40,M),[[y,v.value]])])):(a(),d("div",S,[r(e("input",{type:"checkbox","onUpdate:modelValue":n=>t.done=n},null,8,E),[[$,t.done]]),e("span",{onDblclick:n=>g(t),class:f({done:t.done})},k(t.text),43,N),e("button",{type:"button",onClick:n=>x(t.id)},"X",8,F)]))]))),128)),e("button",{type:"button",disabled:o.value==="all",onClick:l[2]||(l[2]=t=>o.value="all")}," 全部 ",8,J),e("button",{type:"button",disabled:o.value==="active",onClick:l[3]||(l[3]=t=>o.value="active")}," 待完成 ",8,O),e("button",{type:"button",disabled:o.value==="completed",onClick:l[4]||(l[4]=t=>o.value="completed")}," 已完成 ",8,z)]),A]),e("div",P,[e("div",X,[e("div",j,[e("div",q,[r(e("input",{type:"text",placeholder:"請輸入待辦事項","onUpdate:modelValue":l[5]||(l[5]=t=>u.value=t),onKeyup:p(h,["enter"])},null,544),[[y,u.value]]),e("a",{href:"#",onClick:h},H)]),e("div",Q,[e("ul",R,[e("li",null,[e("a",{href:"#",class:f({active:o.value==="all"}),onClick:l[6]||(l[6]=_(t=>o.value="all",["prevent"]))},"全部",2)]),e("li",null,[e("a",{href:"#",class:f({active:o.value==="active"}),onClick:l[7]||(l[7]=_(t=>o.value="active",["prevent"]))},"待完成",2)]),e("li",null,[e("a",{href:"#",class:f({active:o.value==="completed"}),onClick:l[8]||(l[8]=_(t=>o.value="completed",["prevent"]))},"已完成",2)])]),e("div",W,[e("ul",Y,[(a(!0),d(m,null,L(C.value,t=>(a(),d("li",{key:t.id},[b.value===t.id?(a(),d("label",Z,[r(e("input",{"onUpdate:modelValue":l[9]||(l[9]=n=>v.value=n),type:"text",onKeyup:[p(n=>w(t),["enter"]),l[10]||(l[10]=p(n=>i.editingTodoId=null,["esc"]))]},null,40,ee),[[y,v.value]])])):(a(),d("label",te,[r(e("input",{class:"todoList_input",type:"checkbox","onUpdate:modelValue":n=>t.done=n},null,8,le),[[$,t.done]]),e("span",{onDblclick:n=>g(t)},k(t.text),41,oe)])),e("a",{href:"#",onClick:_(n=>x(t.id),["prevent"])},ie,8,ne)]))),128))]),e("div",ae,[e("p",null,k(s.value.filter(t=>t.done).length)+" 個已完成項目",1),e("a",{href:"#",onClick:_(D,["prevent"])},"清除已完成項目")])])])])])])],64))}};export{ve as default};
